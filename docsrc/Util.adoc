== Util, the utilities module

The `Util` module holds various types and functions that are used throughout
the application, typically refactored here after review to reduce weight in
modules that require clarity.

[source,haskell]
----
<<util-module>>=
module Util exposing (
    <<util-exports>>
    )
----

=== Direction

(((Util,types,Direction)))

[source,haskell]
----
<<util-exports>>=
Direction(..)
----

[source,haskell]
----
<<util-types>>=
type Direction
    = Upstream
    | Downstream
----

[source,haskell]
----
<<util-exports>>=
, toString
----

=== toString (from Direction)

(((Util,)))

[source,haskell]
----
<<util-functions>>=
toString : Direction -> String
toString d =
    case d of
        Upstream ->
            "up"

        Downstream ->
            "down"
----

=== Position [[util-position]]

This XY record structure was being used in several places so it was refactored
here.

(((Util,types,Position)))

[source,haskell]
----
<<util-exports>>=
, Position
----

[source,haskell]
----
<<util-types>>=
type alias Position =
    { x : Float
    , y : Float
    }
----

=== newVesselName

Make up a vessel name from Lorem Ipsum text. Not much to see here really, I
just wanted something that would provide unique names. An index is tacked to
the end just to make sure. Some care is taken to remove punctuation and, since
its a boat title, capitalize the text.

(((Util,functions,newVesselName)))

[source,haskell]
----
<<util-exports>>=
, newVesselName
----

[source,haskell]
----
<<util-imports>>=
import Lorem
import String.Extra
----

[source,haskell]
----
<<util-functions>>=
newVesselName : Int -> String
newVesselName index =
    let
        nmax : Int
        nmax = 50

        n : Int
        n = modBy nmax index

        wordpair : List String
        wordpair =
            Lorem.words (nmax + 1)
                |> List.drop n
                |> List.take 2
    in
        List.singleton (String.fromInt index)
        |> List.append wordpair
        |> List.map (String.filter Char.isAlphaNum)
        |> String.join " "
        |> String.Extra.toTitleCase
----


=== Code Layout

[source,haskell]
----
<<Util.elm>>=
<<util-module>>

<<util-imports>>

<<util-types>>

<<util-functions>>
----
